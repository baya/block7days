#include <stdio.h>
#include <string.h>
#include <stdlib.h>

#include "kyk_utils.h"
#include "kyk_mkl_tree.h"

/* 数据来源于: https://webbtc.com/block/000000000000000012c2feb44df5a5d9e0c3ba1b70ed5d42b36732026025ff9f.json */

/* 包含 32 笔交易 */
#define TX_COUNT 32


int main()
{
    char *txid_hexs[TX_COUNT] = {
	"ad44cc76dfcee4d733d86a0a86c540eeb6b2b07b722becab9358ccae76a58761",
	"11c203000bcc00013a1549690def9ae2ef03bb00249ad717ae4f2b2d194faacf",
	"27f484f81c372a1ae27d61922e468c8f4df54fddc6efa260c6e3732822b76ceb",
	"131d9032f77964c4277ea2e42b0deee1a912957a35f94cd5188db37467414129",
	"5888f16ec86877e47b40627f2159f0b7ae6e1d5b66eccc6ae4ad4ef1d2fbb6b0",
	"3c9e70305df79069bf68cee93087feeb79895199b50ee3e33741496796ef1e18",
	"645222d7e3625f6eb74ae2de7b407b7f7912fbfd07d63860204ed0d72f475953",
	"e4df35fa193f006990b4107237b2568920ba7bfc8ede5653cef57c62d14a133f",
	"5948a9116c1ea4eb11527f284237a53e1523c3fe86dc25ad3402c0ba5bb10ad9",
	"0990881ba38cd46867709ff33f94bab56c80a8f18a8f28d222b15a46f9feef33",
	"c45391be9c749fd104a21f2cd8c77258c2061e8a3a3abaa522d6561034dfef89",
	"401beb22a7457fcfe76e206d14e7baad32db8ee47233af51eb1e6b2f48a120db",
	"61d7cdb4c253e9c1169ea27bfda022db39e741774df2a747af1eee5470b5574d",
	"64042fe39341f39e5f82fade317c45fb541291bf53edeb64f18b853284e928a6",
	"f4b0460d7b7efeb52af9f4bc8723188d61f91fc08968d53cfe2181255c8ea91b",
	"67862b38131d4ff39c69fb8488b344bcdc3db424ed85d3bf369c394a5601d6bd",
	"eed86a99a95aebbae0cb858daaa555a9258a3d7c518cc971b704afcc73adeca7",
	"b74b93868f1a58e99c6bb6dc7d01cbf0473ee33f34c936e03c2358af17c521be",
	"e973aacb6e8e4884da7069aae3fb24bd722512b9a006e4e3e8769d90932a049b",
	"d059a1e0702d3b6d98d204fd014818fded490c38cace216a7886f2d6ced16aa1",
	"fae796b327db60257780ae0c5e3f1af91ec6bd269856100ae3bda46e9de5189e",
	"3b11e7ceac51c56d5224f648433d9ba464ecc80c5fddf421708862925b051f16",
	"779751139fae35932256415d4828d190b8048d238d38f8dd6cc7cc2f9417dbae",
	"d046cae7d3a514516fbc8cdcf0b3c11483f082d7bc20c62f87ca26c145d6814b",
	"1ab446ec8cde429f2ec68ccb0ca78907b1be73d51a36d8d14372d34b2547e5a3",
	"bd39c67891d7235dc430b6ba55f327b3a01c9f7f1b7b863d1d26a9432d29f758",
	"830aaf695d5fa836d0c8444941271fa96c4f4daa3f588a6fba2448754fc182ae",
	"b1ff784773cce358512c03d28f7c19555f3f8e058665d3318bbfe051f89e132c",
	"36c3bdf9637e293aa2c6f8150c5a33b0175c48f416400a9f66cb1a7c0aa979d8",
	"b0b24f195cc2f2e5b51c92fdd00a5f47dbf2a336c039ba8642ebff6c8af06dac",
	"84c7c11548d1b747883553d8b6e16ba5b284f30bf9616fa8173207bb1746a44f",
	"d1d9c391be2a05875306cb819ae25307ac27aefb59382c52429396704dbcf8e1"
    };
    
    struct kyk_mkltree_level *leaf_level;
    struct kyk_mkltree_level *root_level;

    leaf_level = create_mkl_leafs_from_txid_hexs((const char **)txid_hexs, TX_COUNT);
    root_level = create_mkl_tree(leaf_level);
    
    kyk_print_mkl_level(root_level);
    printf("\n");

}




